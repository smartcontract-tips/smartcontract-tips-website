---
layout: post
title: Balancer Labs Takes Swift Action to Address Critical Vulnerability in V2 Pools
date: 2023-08-29 08:49:41.000000000 +02:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- English
- Incident Report
tags: []
meta:
  _wpas_done_all: '1'
  _thumbnail_id: '6219'
  _edit_last: '48926058'
  ppma_authors_name: Davide
author:
  login: divisionista
  email: dcarboni@gmail.com
  display_name: Davide
  first_name: Davide
  last_name: ''
permalink: "/articoli/balancer-labs-takes-swift-action-to-address-critical-vulnerability-in-v2-pools/"
excerpt: Balancer Labs, a leading player in the decentralized finance (DeFi) sector,
  recently identified and acted upon a critical vulnerability affecting a number of
  its Version 2 (V2) liquidity pools. Immediate measures were implemented, mitigating
  risks for 80% of the affected pools. The company urges users to withdraw from pools
  still labeled “at risk,” representing around 4% of the total value locked (TVL).
  The Emergency SubDAO has enabled various exit options to help users transition safely.
featured_image: featured_images/copertinabala.png
---
<div class="<br />
          image-block-outer-wrapper<br />
          layout-caption-below<br />
          design-layout-inline<br />
          combination-animation-site-default<br />
          individual-animation-site-default<br />
          individual-text-animation-site-default<br />
        " data-test="image-block-inline-outer-wrapper"><br />
<figure class="<br />
              sqs-block-image-figure<br />
              intrinsic<br />
            " style="max-width:1640px;">
<div class="image-block-wrapper" data-animation-role="image">
<div class="sqs-image-shape-container-element</p>
<p>              has-aspect-ratio<br />
            " style="<br />
                position: relative;</p>
<p>                  padding-bottom:56.34146499633789%;</p>
<p>                overflow: hidden;-webkit-mask-image: -webkit-radial-gradient(white, black);<br />
              "></p></div>
</div>
<p><img data-stretch="false" src="{{ site.baseurl }}/assets/2023/08/Balancer+labs+critical+vulnerability" data-image="https://images.squarespace-cdn.com/content/v1/640a182d9182d66162be74d6/bbddbdda-83a1-48da-9f78-a71057a9ba09/Balancer+labs+critical+vulnerability" data-image-dimensions="1640x924" data-image-focal-point="0.5,0.5" alt="" data-load="false" width="1640" height="924" sizes="100vw" style="display:block;object-fit: cover; width: 100%; height: 100%; object-position: 50% 50%" srcset="https://images.squarespace-cdn.com/content/v1/640a182d9182d66162be74d6/bbddbdda-83a1-48da-9f78-a71057a9ba09/Balancer+labs+critical+vulnerability?format=100w 100w, https://images.squarespace-cdn.com/content/v1/640a182d9182d66162be74d6/bbddbdda-83a1-48da-9f78-a71057a9ba09/Balancer+labs+critical+vulnerability?format=300w 300w, https://images.squarespace-cdn.com/content/v1/640a182d9182d66162be74d6/bbddbdda-83a1-48da-9f78-a71057a9ba09/Balancer+labs+critical+vulnerability?format=500w 500w, https://images.squarespace-cdn.com/content/v1/640a182d9182d66162be74d6/bbddbdda-83a1-48da-9f78-a71057a9ba09/Balancer+labs+critical+vulnerability?format=750w 750w, https://images.squarespace-cdn.com/content/v1/640a182d9182d66162be74d6/bbddbdda-83a1-48da-9f78-a71057a9ba09/Balancer+labs+critical+vulnerability?format=1000w 1000w, https://images.squarespace-cdn.com/content/v1/640a182d9182d66162be74d6/bbddbdda-83a1-48da-9f78-a71057a9ba09/Balancer+labs+critical+vulnerability?format=1500w 1500w, https://images.squarespace-cdn.com/content/v1/640a182d9182d66162be74d6/bbddbdda-83a1-48da-9f78-a71057a9ba09/Balancer+labs+critical+vulnerability?format=2500w 2500w" loading="lazy" decoding="async" data-loader="sqs" /></p>
</figure>
</div>
<div class="sqs-html-content">
<h2 style="white-space:pre-wrap;">Executive Summary</h2>
<p class="sqsrte-large" style="white-space:pre-wrap;">Balancer Labs, a leading player in the decentralized finance (DeFi) sector, recently identified and acted upon a critical vulnerability affecting a number of its Version 2 (V2) liquidity pools. Immediate measures were implemented, mitigating risks for 80% of the affected pools. The company urges users to withdraw from pools still labeled “at risk,” representing around 4% of the total value locked (TVL). The Emergency SubDAO has enabled various exit options to help users transition safely.</p>
<h2 style="white-space:pre-wrap;">Situation Overview</h2>
<p class="sqsrte-large" style="white-space:pre-wrap;">Balancer Labs has uncovered a critical security vulnerability affecting multiple V2 liquidity pools on its platform. The flaw was serious enough to require immediate action to protect user funds and assets. While the vulnerability has yet to be exploited and no funds have been lost, Balancer Labs has initiated various emergency protocols to mitigate risks and ensure user safety.</p>
<h3 style="white-space:pre-wrap;">Balancer’s Official Statement on Twitter</h3>
<p class="sqsrte-large" style="white-space:pre-wrap;">Balancer took to social media to keep the community updated in real-time. Their official Twitter account posted crucial details about the vulnerability and the actions taken for its mitigation. The tweet serves as a rapid, initial communication channel, supplementing the more detailed disclosures and advisories. It’s another layer in their transparent approach to risk management, offering immediate guidance to users. For more context, refer to the embedded tweet below.</p>
<blockquote><p class="sqsrte-large" style="white-space:pre-wrap;">Balancer has received a critical vulnerability report affecting a number of V2 Pools.</p>
<p>Emergency mitigation procedures have been executed to secure a majority of TVL, but some funds remain at risk.</p>
<p>Users are advised to withdraw affected LPs immediately.<a href="https://t.co/PDzX32gqeS" target="_blank" rel="noopener">https://t.co/PDzX32gqeS</a> <a href="https://t.co/F1f649Wz3L" target="_blank" rel="noopener">pic.twitter.com/F1f649Wz3L</a></p>
<p class="" style="white-space:pre-wrap;">— Balancer (@Balancer) <a href="https://twitter.com/Balancer/status/1694014645378724280?ref_src=twsrc%5Etfw" target="_blank" rel="noopener">August 22, 2023</a></p>
</blockquote>
<h3 style="white-space:pre-wrap;">Follow-Up Update from Balancer: Significant Progress, Yet Urgent Action Still Needed</h3>
<p class="sqsrte-large" style="white-space:pre-wrap;">In a subsequent Twitter update, Balancer confirmed that due to the rapid actions taken by liquidity providers (LPs), a whopping 97% of the initially vulnerable liquidity is now considered safe. This is a testament to the community’s responsiveness and the effectiveness of Balancer’s emergency measures. However, the update also serves as a critical reminder: approximately 0.89% of the total value locked (TVL), equating to $5.6 million, is still exposed. Balancer urges users to withdraw these remaining at-risk funds as swiftly as possible through their user interface. For more details, refer to the follow-up tweet below.</p>
<blockquote><p class="sqsrte-large" style="white-space:pre-wrap;">Due to the swift action of Balancer LPs, over 97% of liquidity initially deemed vulnerable is now SAFE.</p>
<p>The vulnerability has not been exploited, however, 0.89% of total TVL ($5.6 million) remains at risk, with users advised to withdraw ASAP using the UI.<a href="https://t.co/PDzX32gqeS" target="_blank" rel="noopener">https://t.co/PDzX32gqeS</a></p>
<p class="sqsrte-large" style="white-space:pre-wrap;">— Balancer (@Balancer) <a href="https://twitter.com/Balancer/status/1694222776641708156?ref_src=twsrc%5Etfw" target="_blank" rel="noopener">August 23, 2023</a></p>
</blockquote>
<h2 style="white-space:pre-wrap;">Rapid Response and Risk Mitigation</h2>
<p class="sqsrte-large" style="white-space:pre-wrap;">Following the vulnerability report, Balancer Labs responded swiftly, successfully mitigating risks for over 80% of the affected liquidity pools. Funds in these pools are now considered safe and have been tagged as “mitigated.”</p>
<p class="sqsrte-large" style="white-space:pre-wrap;">However, approximately 4% of Balancer’s TVL remains in pools still labeled “at risk.” Users involved in these pools are strongly advised to exit immediately to avoid potential losses.</p>
<h2 style="white-space:pre-wrap;">Emergency SubDAO and User-Friendly Interface</h2>
<p class="sqsrte-large" style="white-space:pre-wrap;">To streamline the exit process for users, the Emergency SubDAO has implemented proportional exit options across all impacted pools. This emergency measure allows users to withdraw funds in a straightforward manner, even from pools that have been paused as a precaution.</p>
<p class="sqsrte-large" style="white-space:pre-wrap;">In addition, Balancer Labs has launched a personalized user interface tool that helps users determine if their wallets are connected to affected pools. This tool guides users through the withdrawal process, ensuring that all necessary steps are followed correctly.</p>
<h2 style="white-space:pre-wrap;">Market Impact and Analyst Perspective</h2>
<p class="sqsrte-large" style="white-space:pre-wrap;">The disclosure of the vulnerability had immediate repercussions on the market. Balancer’s native token, BAL, experienced a 4% drop following the announcement. However, the token has since shown signs of recovery, trading at $3.47 at the time of the latest update. This price fluctuation underscores the sensitivity of market sentiment to security issues in the DeFi ecosystem.</p>
<p class="sqsrte-large" style="white-space:pre-wrap;">Spencer Hughes, a Blockworks Research analyst, highlighted the episode as a sobering reminder that even robust smart contract audits can’t offer complete safety. With approximately $830 million in TVL, a Balancer exploit could have had catastrophic implications for one of the industry’s most prominent decentralized exchanges (DEXs). Hughes emphasized the crucial role of Emergency SubDAOs, praising Balancer’s rapid response to prevent any malicious activity.</p>
<h2 style="white-space:pre-wrap;">Past Precautions and Broader Strategy</h2>
<p class="sqsrte-large" style="white-space:pre-wrap;">It’s worth noting that Balancer Labs had already taken proactive steps in January to protect liquidity providers by advising them to remove funds from five specific pools. This action protected assets totaling $6.3 million and may be viewed as part of a broader strategy to pre-emptively protect user funds.</p>
<h2 style="white-space:pre-wrap;">Next Steps for Users</h2>
<ol data-rte-list="default">
<li>
<p class="sqsrte-large" style="white-space:pre-wrap;"><strong>Unstake Tokens</strong>: If your pool tokens are staked, you should first unstake them using the interface, which supports both Balancer and Aura gauges.</p>
</li>
<li>
<p class="sqsrte-large" style="white-space:pre-wrap;"><strong>Withdraw Fund</strong>s: Click on the “WITHDRAW” button to exit the liquidity pool. For pools with nested pool tokens, multiple withdrawals may be required.</p>
</li>
<li>
<p class="sqsrte-large" style="white-space:pre-wrap;"><strong>Unwrap Assets</strong>: If you are part of a boosted pool, your assets will be wrapped. Approve the token to be unwrapped, and then proceed to unwrap it.</p>
</li>
</ol>
<p class="sqsrte-large" style="white-space:pre-wrap;">For a detailed list of affected pools, please refer to the <a href="https://github.com/BalancerMaxis/multisig-ops/blob/main/BIPs/00notGov/2023-08-mitigation.md" target="_blank" rel="noopener">official documentation</a>.</p>
</div>
<div class="<br />
          image-block-outer-wrapper<br />
          layout-caption-below<br />
          design-layout-inline<br />
          combination-animation-site-default<br />
          individual-animation-site-default<br />
          individual-text-animation-site-default<br />
        " data-test="image-block-inline-outer-wrapper"><br />
<figure class="<br />
              sqs-block-image-figure<br />
              intrinsic<br />
            " style="max-width:1539px;">
<div class="image-block-wrapper" data-animation-role="image">
<div class="sqs-image-shape-container-element</p>
<p>              has-aspect-ratio<br />
            " style="<br />
                position: relative;</p>
<p>                  padding-bottom:52.761531829833984%;</p>
<p>                overflow: hidden;-webkit-mask-image: -webkit-radial-gradient(white, black);<br />
              "></p></div>
</div>
<p><img data-stretch="false" src="{{ site.baseurl }}/assets/2023/08/multisig+ops+balancer+hack.png" data-image="https://images.squarespace-cdn.com/content/v1/640a182d9182d66162be74d6/187a8c4e-976b-4872-ad63-46e10a4a9de7/multisig+ops+balancer+hack.png" data-image-dimensions="1539x812" data-image-focal-point="0.5,0.5" alt="" data-load="false" width="1539" height="812" sizes="100vw" style="display:block;object-fit: cover; width: 100%; height: 100%; object-position: 50% 50%" srcset="https://images.squarespace-cdn.com/content/v1/640a182d9182d66162be74d6/187a8c4e-976b-4872-ad63-46e10a4a9de7/multisig+ops+balancer+hack.png?format=100w 100w, https://images.squarespace-cdn.com/content/v1/640a182d9182d66162be74d6/187a8c4e-976b-4872-ad63-46e10a4a9de7/multisig+ops+balancer+hack.png?format=300w 300w, https://images.squarespace-cdn.com/content/v1/640a182d9182d66162be74d6/187a8c4e-976b-4872-ad63-46e10a4a9de7/multisig+ops+balancer+hack.png?format=500w 500w, https://images.squarespace-cdn.com/content/v1/640a182d9182d66162be74d6/187a8c4e-976b-4872-ad63-46e10a4a9de7/multisig+ops+balancer+hack.png?format=750w 750w, https://images.squarespace-cdn.com/content/v1/640a182d9182d66162be74d6/187a8c4e-976b-4872-ad63-46e10a4a9de7/multisig+ops+balancer+hack.png?format=1000w 1000w, https://images.squarespace-cdn.com/content/v1/640a182d9182d66162be74d6/187a8c4e-976b-4872-ad63-46e10a4a9de7/multisig+ops+balancer+hack.png?format=1500w 1500w, https://images.squarespace-cdn.com/content/v1/640a182d9182d66162be74d6/187a8c4e-976b-4872-ad63-46e10a4a9de7/multisig+ops+balancer+hack.png?format=2500w 2500w" loading="lazy" decoding="async" data-loader="sqs" /></p>
</figure>
</div>
<div class="sqs-html-content">
<h2 style="white-space:pre-wrap;">Conclusion and Ongoing Communication</h2>
<p class="sqsrte-large" style="white-space:pre-wrap;">Balancer Labs has assured its user community that a post-mortem will soon be published, outlining the details of the vulnerability and the steps taken to address it. Meanwhile, users are strongly urged to follow the guidelines provided to ensure their assets are safeguarded.</p>
<p class="sqsrte-large" style="white-space:pre-wrap;">In a volatile landscape like DeFi, proactive and rapid response to threats is crucial for preserving both capital and trust. Balancer Labs’ actions in this situation serve as a case study in effective risk management and user communication.</p>
</div>
